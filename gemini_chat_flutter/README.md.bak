# Cometix - AI Chat Assistant

A powerful Flutter-based AI chat assistant with comprehensive settings management, multi-provider support, and modern UI design.

## âœ¨ Features

### Core Features
âœ… **Zoom Drawer Animation** - Unique sidebar with scale/slide animation effect
âœ… **Chat Interface** - Full-featured chat with streaming AI responses
âœ… **Markdown Rendering** - Rich text formatting in AI responses
âœ… **Dark Mode Support** - Full light/dark theme support
âœ… **shadcn_flutter UI** - Modern component library (100% migrated)

### Settings System
âœ… **Display Settings** - Theme, language, font size, display options
âœ… **Assistant Management** - Create, edit, and configure AI assistants
âœ… **Model Configuration** - Default models for chat, title, OCR, translation
âœ… **Service Providers** - Multi-provider support (15+ providers)
âœ… **Search Services** - 13 search engines integration
âœ… **MCP Servers** - MCP server configuration
âœ… **Quick Phrases** - Shortcut system for frequently used prompts
âœ… **Network Proxy** - HTTP/HTTPS/SOCKS5 proxy support
âœ… **WebDAV Backup** - Cloud backup and restore

### Data Management
âœ… **Local Persistence** - SharedPreferences for settings
âœ… **Chat Storage** - Local chat history management
âœ… **Backup & Restore** - WebDAV cloud backup
âœ… **Data Export/Import** - Full data portability

---

## ğŸ“¦ Tech Stack

| Technology | Version | Purpose |
|------------|---------|---------|
| Flutter | 3.38.3+ | Cross-platform framework |
| Dart | 3.10.1+ | Programming language |
| shadcn_flutter | ^0.0.47 | UI component library |
| Riverpod | ^2.5.1 | State management |
| Provider | ^6.1.2 | State management |
| Freezed | ^2.5.7 | Immutable data models |
| SharedPreferences | ^2.3.3 | Local persistence |
| google_generative_ai | ^0.4.6 | Gemini AI SDK |

---

## ğŸš€ Quick Start

### Prerequisites

- Flutter SDK 3.38.3 or higher
- Dart 3.10.1 or higher
- Android Studio / VS Code with Flutter extensions
- Gemini API Key

### Installation

1. **Clone the repository**
   ```bash
   git clone https://github.com/anthropics/cometix.git
   cd cometix/gemini_chat_flutter
   ```

2. **Install dependencies**
   ```bash
   flutter pub get
   ```

3. **Generate Freezed code**
   ```bash
   dart run build_runner build --delete-conflicting-outputs
   ```

4. **Configure API Key**

   Create a `.env` file in the project root:
   ```
   API_KEY=your_gemini_api_key_here
   ```

5. **Run the app**
   ```bash
   flutter run
   ```

---

## ğŸ“ Project Structure

```
lib/
â”œâ”€â”€ main.dart                          # App entry point
â”œâ”€â”€ models/                            # Freezed data models
â”‚   â”œâ”€â”€ assistant.dart                 # AI assistant configuration
â”‚   â”œâ”€â”€ message.dart                   # Chat message
â”‚   â”œâ”€â”€ provider_config.dart           # Service provider config
â”‚   â”œâ”€â”€ search_service.dart            # Search engine config
â”‚   â”œâ”€â”€ mcp_config.dart                # MCP server config
â”‚   â”œâ”€â”€ proxy_config.dart              # Network proxy config
â”‚   â””â”€â”€ backup.dart                    # WebDAV backup config
â”œâ”€â”€ providers/                         # State management
â”‚   â”œâ”€â”€ settings_provider.dart         # Global settings (578 lines)
â”‚   â”œâ”€â”€ assistant_provider.dart        # Assistant management
â”‚   â”œâ”€â”€ backup_provider.dart           # Backup management
â”‚   â”œâ”€â”€ messages_provider.dart         # Chat messages
â”‚   â””â”€â”€ gemini_service_provider.dart   # AI service
â”œâ”€â”€ screens/                           # Main screens
â”‚   â”œâ”€â”€ home_screen.dart               # Zoom drawer container
â”‚   â”œâ”€â”€ chat_screen.dart               # Chat interface
â”‚   â”œâ”€â”€ settings_screen.dart           # Settings navigation
â”‚   â”œâ”€â”€ settings_pages.dart            # Settings pages
â”‚   â”œâ”€â”€ assistant_edit_page.dart       # Assistant editor
â”‚   â”œâ”€â”€ default_model_page.dart        # Model selection
â”‚   â”œâ”€â”€ providers_page.dart            # Service providers
â”‚   â”œâ”€â”€ search_settings_page.dart      # Search services
â”‚   â”œâ”€â”€ mcp_settings_page.dart         # MCP configuration
â”‚   â”œâ”€â”€ proxy_settings_page.dart       # Network proxy
â”‚   â”œâ”€â”€ backup_settings_page.dart      # WebDAV backup
â”‚   â””â”€â”€ quick_phrase_settings_page.dart # Quick phrases
â”œâ”€â”€ services/                          # Business logic
â”‚   â”œâ”€â”€ gemini_service.dart            # Gemini AI integration
â”‚   â””â”€â”€ backup_service.dart            # Backup operations
â”œâ”€â”€ widgets/                           # Reusable widgets
â”‚   â”œâ”€â”€ sidebar.dart                   # Sidebar navigation
â”‚   â”œâ”€â”€ input_bar.dart                 # Input component
â”‚   â””â”€â”€ settings_widgets.dart          # Settings UI components
â””â”€â”€ theme/                             # Theme configuration
    â””â”€â”€ app_theme.dart                 # Material 3 + shadcn theme
```

---

## ğŸ¨ Key Features

### 1. Assistant Management

Create and configure AI assistants with:
- Custom system prompts
- Model selection
- Temperature and Top P parameters
- Context message count
- Stream output toggle

### 2. Multi-Provider Support

Supported providers (15+):
- OpenAI
- Anthropic
- Google / Gemini
- Azure OpenAI
- Cohere
- Mistral AI
- Groq
- Together AI
- DeepSeek
- Moonshot AI
- Zhipu AI
- Baichuan AI
- MiniMax
- Doubao

### 3. Search Services

Integrated search engines (13):
- Bing
- DuckDuckGo
- Google
- Brave
- Perplexity
- And more...

### 4. Data Persistence

- **Settings**: SharedPreferences
- **Chat History**: Local storage
- **Backups**: WebDAV cloud storage

---

## ğŸ› ï¸ Development

### Hot Reload
Press `r` in the terminal or use IDE hot reload button

### Hot Restart
Press `R` in the terminal for full restart

### Code Generation
```bash
dart run build_runner watch
```

### Run Tests
```bash
flutter test
```

### Build Release
```bash
flutter build apk --release  # Android
flutter build ios --release  # iOS
```

---

## ğŸ“Š Code Statistics

- **Total Files**: 50+
- **Code Lines**: 15,000+
- **Providers**: 5
- **Data Models**: 10+
- **UI Pages**: 15+

---

## ğŸ› Troubleshooting

### Build Runner Issues
```bash
flutter clean
flutter pub get
dart run build_runner build --delete-conflicting-outputs
```

### API Key Not Working
- Ensure `.env` file is in project root
- Check API key is valid
- Verify `.env` is listed in `pubspec.yaml` assets

### Dependency Conflicts
```bash
flutter pub upgrade
```

---

## ğŸ“ Documentation

- [Development Plan](../docs/PARALLEL_DEV_PLAN.md)
- [Merge Summary](../docs/MERGE_SUMMARY.md)
- [Settings Summary](../docs/SETTINGS_GENERAL_SUMMARY.md)
- [Project Architecture](CLAUDE.md)

---

## ğŸ—ºï¸ Roadmap

### Completed âœ…
- [x] Basic chat interface
- [x] Settings system
- [x] Assistant management
- [x] Multi-provider support
- [x] Search services
- [x] MCP configuration
- [x] Network proxy
- [x] WebDAV backup
- [x] shadcn_flutter migration

### In Progress ğŸš§
- [ ] Actual multi-provider API integration
- [ ] Search service integration
- [ ] MCP server connection

### Planned ğŸ“‹
- [ ] Voice input
- [ ] Image upload
- [ ] TTS service
- [ ] Hotkey system
- [ ] Theme palette selector
- [ ] Haptic feedback

---

## ğŸ“„ License

MIT License - See [LICENSE](LICENSE) for details

---

## ğŸ™ Credits

- **Reference Project**: [Kelivo](https://github.com/kelivo)
- **UI Components**: [shadcn_flutter](https://pub.dev/packages/shadcn_flutter)
- **AI Service**: [Google Gemini](https://ai.google.dev/)

---

## ğŸ¤ Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit your changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

---

**Built with â¤ï¸ using Flutter and Claude Code**
